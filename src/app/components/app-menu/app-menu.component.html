<header
  class="navbar-light navbar-sticky header-static"
  [class.navbar-sticky-on]="scrollY >= 300"
>
  <nav class="navbar navbar-expand-xl">
    <div [class]="navClassName">
      <app-logo-box />

      <button
        class="navbar-toggler ms-auto"
        type="button"
        (click)="collapse.toggle()"
        data-bs-toggle="collapse"
        [attr.aria-expanded]="!isCollapsed"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-animation">
          <span></span>
          <span></span>
          <span></span>
        </span>
      </button>

      <div
        #collapse="ngbCollapse"
        [(ngbCollapse)]="isCollapsed"
        class="navbar-collapse collapse"
        [ngClass]="{ 'w-100': fullWidth }"
        id="navbarCollapse"
      >
        @if (showCategory) {
          <app-category-menu ClassName="me-auto" />
        }

        <app-horizontal-menu
          [showIcon]="showIcon"
          [menuClassName]="menuClassName"
          [showContact]="showContact"
          [showExtraPages]="showExtraPages"
          [showMegaMenu]="showMegaMenu"
        />

        @if (SearchIcon) {
          <div
            ngbDropdown
            class="nav nav-item dropdown nav-search px-1 px-lg-3"
          >
            <a
              ngbDropdownToggle
              class="nav-link arrow-none"
              role="button"
              id="navSearch"
              aria-expanded="true"
            >
              <i class="bi bi-search fs-4"> </i>
            </a>
            <div
              ngbDropdownMenu
              class="dropdown-menu dropdown-menu-end shadow rounded p-2"
              aria-labelledby="navSearch"
              data-bs-popper="none"
            >
              <form class="input-group">
                <input
                  class="form-control border-primary"
                  type="search"
                  placeholder="Search..."
                  aria-label="Search"
                />
                <button class="btn btn-primary m-0" type="submit">
                  Search
                </button>
              </form>

              <ul class="list-group list-group-borderless p-2 small">
                <li
                  class="list-group-item d-flex justify-content-between align-items-center"
                >
                  <span class="fw-bold">Recent Searches:</span>
                  <button class="btn btn-sm btn-link mb-0 px-0">
                    Clear all
                  </button>
                </li>
                <li class="list-group-item text-primary-hover text-truncate">
                  <a href="javascript:void(0);" class="text-body">
                    <i class="far fa-clock me-1"></i>Digital marketing course
                    for Beginner</a
                  >
                </li>
                <li class="list-group-item text-primary-hover text-truncate">
                  <a href="javascript:void(0);" class="text-body">
                    <i class="far fa-clock me-1"></i>Customer Life cycle</a
                  >
                </li>
                <li class="list-group-item text-primary-hover text-truncate">
                  <a href="javascript:void(0);" class="text-body">
                    <i class="far fa-clock me-1"></i>What is Search</a
                  >
                </li>
                <li class="list-group-item text-primary-hover text-truncate">
                  <a href="javascript:void(0);" class="text-body">
                    <i class="far fa-clock me-1"></i>Facebook ADS</a
                  >
                </li>
              </ul>
            </div>
          </div>
        }
        @if (SearchWithText) {
          <div class="nav my-3 my-xl-0 px-4 flex-nowrap align-items-center">
            <div class="nav-item w-100">
              <form class="position-relative">
                <input
                  class="form-control pe-5 bg-transparent"
                  type="search"
                  placeholder="Search"
                  aria-label="Search"
                />
                <button
                  class="bg-transparent p-2 position-absolute top-50 end-0 translate-middle-y border-0 text-primary-hover text-reset"
                  type="submit"
                >
                  <i class="fas fa-search fs-6"></i>
                </button>
              </form>
            </div>
          </div>
        }
      </div>

      @if (showCart) {
        <div class="me-2 me-md-3 dropdown">
          <app-cart-menu
            btnClass="btn btn-light btn-round"
            icon="bi bi-cart3 fa-fw"
            badgeClass="bg-dark mt-xl-2 ms-n1"
          />
        </div>
      }

      @if (showNotification) {
        <li class="nav-item dropdown d-none d-sm-block me-3">
          <app-notification />
        </li>
      }

      @if (showsignin) {
        <div class="navbar-nav ms-2">
          <button class="btn btn-sm btn-dark mb-0">
            <i class="bi bi-power me-2"></i>Sign In
          </button>
        </div>
      } @else {
        <div class="dropdown ms-1 ms-lg-0">
          <app-profile-menu />
        </div>
      }
    </div>
  </nav>
</header>

<div
  id="sticky-space"
  [style.height]="scrollY >= 300 ? stickyHeight + 'px' : '0px'"
></div>
